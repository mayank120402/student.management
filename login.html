<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login — Vishal Academic School</title>
  <style>
    body{font-family:Segoe UI,Roboto,Arial;display:flex;min-height:100vh;align-items:center;justify-content:center;background:#f5f7fb;margin:0}
    .card{width:360px;padding:24px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.06);background:#fff}
    h2{margin:0 0 16px;font-size:20px}
    label{display:block;margin:10px 0 6px;font-size:13px;color:#333}
    input{width:100%;padding:10px;border-radius:8px;border:1px solid #dfe6ef;font-size:14px}
    button{width:100%;padding:10px;margin-top:16px;border-radius:8px;border:0;font-weight:600;cursor:pointer}
    .btn-primary{background:#0b63d6;color:#fff}
    .note{font-size:13px;color:#666;margin-top:12px;text-align:center}
    .links{display:flex;justify-content:space-between;margin-top:12px;font-size:13px}
    a{color:#0b63d6;text-decoration:none}
    .error{color:#c62828;font-size:13px;margin-top:8px}
  </style>
</head>
<body>
  <div class="card">
    <h2>Student Login</h2>
    <form id="loginForm" onsubmit="return false;">
      <label for="email">ईमेल / User ID</label>
      <input id="email" type="text" placeholder="student@example.com" required />

      <label for="pass">Password</label>
      <input id="pass" type="password" placeholder="Enter password" required />

      <div id="err" class="error" style="display:none"></div>

      <button class="btn-primary" id="loginBtn">Login</button>
    </form>

    <div class="links">
      <a href="register.html">Register</a>
      <a href="index.html">Back to Home</a>
    </div>

    <div class="note">यह एक client-side demo login है — production के लिए server/auth provider इस्तेमाल करें।</div>
  </div>

  <script>
    // Basic client-side login using localStorage
    const loginBtn = document.getElementById('loginBtn');
    const errDiv = document.getElementById('err');

    loginBtn.addEventListener('click', ()=> {
      errDiv.style.display = 'none';
      const email = document.getElementById('email').value.trim().toLowerCase();
      const pass = document.getElementById('pass').value;

      if(!email || !pass){ showErr('कृपया सभी फील्ड भरे।'); return; }

      // Stored users in localStorage as JSON under key "students_users"
      const usersJSON = localStorage.getItem('students_users');
      if(!usersJSON){ showErr('कोई रजिस्टर यूज़र नहीं मिला। कृपया Register करें।'); return; }

      try{
        const users = JSON.parse(usersJSON);
        const user = users.find(u => u.email === email && u.password === pass);
        if(!user){ showErr('ईमेल या पासवर्ड गलत है।'); return; }

        // Successful — set a session flag and redirect
        localStorage.setItem('students_session', JSON.stringify({email: user.email, name: user.name, loggedAt: Date.now()}));
        // Redirect to students dashboard (change path if needed)
        window.location.href = 'students.html';
      } catch(e){
        showErr('कुछ गड़बड़ है — browser storage error।');
        console.error(e);
      }
    });

    function showErr(msg){
      errDiv.textContent = msg;
      errDiv.style.display = 'block';
    }
  </script>
</body>
</html>
